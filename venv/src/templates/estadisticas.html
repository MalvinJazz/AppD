{% extends 'base.html' %}

{% block head %}
<h1>ESTADISTICAS</h1>
{% endblock %}

{% block content %}
<div id='section'>
  <div id="chart_div" class="geoChart" ></div>
</div>
{% endblock %}


{% block js %}
<script type='text/javascript' src='https://www.gstatic.com/charts/loader.js'></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">

  google.charts.load('current', {'packages': ['geochart']});
  google.charts.setOnLoadCallback(drawMarkersMap);

  var deps = [
      ['States','Departamento', 'Denuncias'],
      {% for dato in departamentos %}
        ['{{dato.codigo}}','{{dato.nombre}}',{{dato.sumMunicipios}}],
      {% endfor %}
    ];


  function drawMarkersMap() {
    var data = google.visualization.arrayToDataTable(deps);

    var options = {
       backgroundColor: '#white',
       datalessRegionColor: '#C0C0C0',
       defaultColor: '#4D4D50',
       region: 'GT',
       //displayMode: 'markers',
       resolution: 'provinces',
       //FAE398
       colorAxis: {colors: ['#FDF1CB','#FFC400','#DF0000']},
    };

    var chart = new google.visualization.GeoChart(document.getElementById('chart_div'));
    chart.draw(data, options);
  };


</script>
{% endblock %}
